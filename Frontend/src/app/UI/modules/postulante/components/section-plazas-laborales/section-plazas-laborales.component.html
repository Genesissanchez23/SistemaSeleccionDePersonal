<section class="w-100 h-100 px-5 pt-3">
    <div class="row row-cols-2 d-flex justify-content-between align-items-center">
        <nav style="--bs-breadcrumb-divider: '>';">
            <ol class="breadcrumb m-0">
                <li class="breadcrumb-item">Home</li>
                <li class="breadcrumb-item">Plazas Laborales</li>
            </ol>
        </nav>
        <div class="btn-group btn-group-sm w-auto" role="group">
            <button type="button" [ngClass]="btnAll ? 'btn btn-primary' : 'btn btn-outline-primary'"
                (click)="showAll()">Todos</button>
            <button type="button" [ngClass]="btnFavorites ? 'btn btn-danger' : 'btn btn-outline-danger'"
                (click)="showFavorites()">Favoritos</button>
        </div>
    </div>
    <div class="row row-cols-1 row-cols-lg-2 mt-4">
        <div class="container-filter col-12 col-lg-3">
            <div class="card bg-white rounded-0">
                <div class="card-header">
                    <div class="container-input h-auto bg-white">
                        <div class="input-box shadow-sm">
                            <div class="icon">
                                <i class="pi pi-filter-fill"></i>
                            </div>
                            <input class="input" type="text" placeholder="Buscar..." autocomplete="off" (input)="onSearch($event)">
                        </div>
                    </div>
                </div>
                <div class="card-body d-none d-md-flex flex-column">
                    <app-text text="Modalidad"></app-text>
                    <div class="card-content container d-flex">
                        <form class="d-flex flex-wrap flex-row flex-lg-column">
                            @for (item of listModalidad; track $index) {
                                <label>
                                    <input [value]="item.label" type="radio" name="radio" checked="" (change)="filterByModalidad(item.label)">
                                    <span>{{ item.label }}</span>
                                </label>
                            }
                        </form>
                    </div>
                    <div class="mt-2"></div>
                    <app-text text="Contrato"></app-text>
                    <div class="card-content container">
                        <form class="d-flex flex-wrap flex-row flex-lg-column">
                            @for (item of listContrato; track $index) {
                                <label>
                                    <input [value]="item.label" type="radio" name="radio" checked="" (change)="filterByContrato(item.label)">
                                    <span>{{ item.label }}</span>
                                </label>
                            }
                        </form>
                    </div>
                </div>
            </div>
            @if (listPostulaciones.length > 0) {
                <div class="card bg-white rounded-0 mt-4 pb-4">
                    <div class="card-header py-3">
                    <span class="font-astonpoliz fs-5">Postulaciones aplicadas</span>
                </div>
                <div class="card-body card-body-historial d-flex flex-wrap gap-4">
                    @for (item of listPostulaciones; track $index) {
                        <div class="card-info-historial">
                            <h2>{{item.plazaLaboralNombre}}</h2>
                            <div class="info-estado">
                                <p>{{item.estadoNombre}}</p>
                                <div></div>
                            </div>
                        </div>
                    }
                    </div>
                </div>
            }
        </div>
        <div class="col-12 col-lg-9 mt-4 m-lg-0 container-plazas">
            <app-card-plazas-laborales [data]="filteredData" />
        </div>
    </div>
</section>